<!-- _includes/head-custom.html -->
<script>
  // MathJax v3 設定（$...$も使えるように）
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('main img').forEach(img => {
    if (!img.closest('a')) {
      const a = document.createElement('a');
      a.href = img.src;
      a.target = '_blank';
      a.rel = 'noopener';
      img.replaceWith(a);
      a.appendChild(img);
    }
  });
});
</script>

